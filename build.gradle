
plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.4.21'
    id 'application'
    id "com.github.johnrengelman.shadow" version "6.1.0"
}

repositories {
    jcenter()
}

mainClassName = 'com.mat.pomodoro.App'

dependencies {
    implementation platform('org.jetbrains.kotlin:kotlin-bom')

    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core-jvm:1.4.2'
    compile group: 'commons-cli', name: 'commons-cli', version: '1.4'
    implementation 'com.eatthepath:pushy:0.14.2'
    runtime 'io.netty:netty-tcnative-boringssl-static:2.0.34.Final'

    testImplementation 'org.jetbrains.kotlin:kotlin-test'
    testImplementation 'org.jetbrains.kotlin:kotlin-test-junit'
}

sourceSets {
    main.java.srcDir "src/main/kotlin"
    main.resources.srcDir "src/main/resources"
}

jar {
    manifest {
        attributes(
        'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
        'Main-Class': 'com.mat.pomodoro.App')
    }
}

application {
    mainClassName = 'com.mat.pomodoro.App'
}
